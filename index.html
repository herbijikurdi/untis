<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Entschuldigungsformular</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <div class="input-section">
            <h2>📝 Entschuldigungsformular ausfüllen</h2>
            
            <div class="row">
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" id="name" placeholder="Name des Schülers/der Schülerin">
                </div>
                <div class="form-group">
                    <label>Klasse:</label>
                    <input type="text" id="klasse" placeholder="z.B. 10a">
                </div>
            </div>
            
            <div class="form-group">
                <label>Name des Lehrers/der Lehrerin:</label>
                <input type="text" id="lehrer" placeholder="z.B. Herr/Frau Müller">
            </div>
            
            <div class="form-group fehlen-art">
                <label>Art des Fehlens:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" name="fehlenArt" id="eintaetig" value="eintaetig">
                        <label for="eintaetig">bei eintägigem Fehlzeiten</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" name="fehlenArt" id="mehrtaetig" value="mehrtaetig">
                        <label for="mehrtaetig">bei mehreren Fehltagen</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" name="fehlenArt" id="einzelstunden" value="einzelstunden">
                        <label for="einzelstunden">bei einzelnen Fehlstunden</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" name="fehlenArt" id="minuten" value="minuten">
                        <label for="minuten">bei Fehlminuten (z.B. Verspätungen)</label>
                    </div>
                </div>
            </div>
            
            <div id="fehlzeitenContainer"></div>
            
            <button type="button" class="add-btn" onclick="addFehlzeit()">➕ Weitere Fehlzeit hinzufügen</button>
            
            <div class="form-group">
                <label>Grund des Fehlens:</label>
                <div class="radio-group" style="margin: 10px 0 15px 0;">
                    <div class="radio-option">
                        <input type="radio" name="grund" id="grund_krankheit" value="krankheit" onchange="updateGrund()">
                        <label for="grund_krankheit">Krankheit</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" name="grund" id="grund_arzt" value="arzt" onchange="updateGrund()">
                        <label for="grund_arzt">Arztbesuch</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" name="grund" id="grund_beurlaubung" value="beurlaubung" onchange="updateGrund()">
                        <label for="grund_beurlaubung">Beurlaubung</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" name="grund" id="grund_sonstiges" value="sonstiges" onchange="updateGrund()">
                        <label for="grund_sonstiges">Sonstiges</label>
                    </div>
                </div>
                <div id="sonstiges_grund" style="display: none;">
                    <textarea id="grund" placeholder="Bitte geben Sie den Grund an..."></textarea>
                </div>
            </div>
            
            <div class="form-group">
                <label>Zusätzliche Informationen (optional):</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="checkbox" id="attest">
                        <label for="attest">Ein Attest bzw. eine Bescheinigung liegt bei</label>
                    </div>
                    <div class="radio-option">
                        <input type="checkbox" id="leistungsueberpruefung">
                        <label for="leistungsueberpruefung">Während der Fehlzeit fand eine angesagte Leistungsüberprüfung statt</label>
                    </div>
                    <div class="radio-option">
                        <input type="checkbox" id="nachholpruefung">
                        <label for="nachholpruefung">Am Tag nach der Fehlzeit findet eine angesagte Leistungsüberprüfung statt</label>
                    </div>
                </div>
            </div>
            
            <div class="form-group" id="fachField" style="display:none;">
                <label>Fach/Fächer:</label>
                <input type="text" id="fach" placeholder="z.B. Mathematik, Deutsch">
            </div>
            
            <button class="generate-btn" onclick="generateForm()">📄 Formular generieren</button>
        </div>
        
        <div class="output-section" id="outputSection">
            <button class="download-btn" onclick="downloadPreview()">⬇️ Vorschau herunterladen</button>
            <div id="formOutput"></div>
            <button class="print-btn" onclick="handlePrint()">🖨️ Drucken</button>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>